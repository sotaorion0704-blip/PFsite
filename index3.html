<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>PFsite page3(3D)</title>
    
    <link href="./CSS/reset.css" rel="stylesheet">
	<link href="./css/stayle.css" rel="stylesheet">	
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DotGothic16&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    
</head>

<body>
    <header>
        <div class="wrap">
			<h1>
				<a href="index.html">
					<img src="./images/mainlogo.png" alt="PORTFOLIO">
				</a>
			</h1>
			<nav>
				<ul class="menu">
					<li>
					<a href="index.html">ABOUT</a>
					</li>
					<li>
					<a href="index.html#s2">GALLELY</a>
                        <ul class="sub">
                            <li class="2D"><a href="index2.html">2D</a></li>
                            <li class="3D"><a href="index3.html">3D</a></li>
                            <li class="MANAGEMENT"><a href="index4.html">MANAGEMENT</a></li>
                        </ul>
					</li>
					<li>
					<a href="index.html#s3">CONTACT</a>
					</li>
				</ul>
			</nav>
		</div>
    </header>
    
    <div class="sections" aria-hidden="false">
    <div id="t3D" class="track">
      <section class="section s1" data-index="0">
          <div class="work">
            <div class="wrap">
                <div class="left">
                    <img src="images/IMG_1167.jpg" alt="パッケージ">
                </div>
                <div class="right">
                        <p class="No">3D01</p>
                        <p class="smalltitle">クリスマスシーズンの
                        クッキーパッケージ</p>
                        <p class="read">組合せ形状を生かした形作り<br>
                        組合せ形状の傾斜を生かした形作りを意識しました。<br>
                        所々にまげ形状を生かした針葉樹の表現を入れました。
                        </p>
                </div>
            </div>
        </div>
      </section>
      <section class="section s2" data-index="1">
              <div class="work">
                <div class="wrap">
                    <div class="left">
                        <img src="images/Ouka_users.png" alt="パッケージ">
                    </div>
                    <div class="right">
                            <p class="No">3D02</p>
                            <p class="smalltitle">花見シーズンの<br>限定缶パッケージ</p>
                            <p class="read">昼にも夜にも楽しめる花見の楽しさを見ただけで想起できるデザインを意識しました。<br>缶の特性を活かした二面性を活かして男性的な面と女性的な面を表現しています。
                            </p>
                    </div>
                </div>
            </div>
        </section>
      <section class="section s3" data-index="2">
          <div class="work">
                <div class="wrap">
                    <div class="left">
                        <img src="images/T-shirts.png" alt="Tシャツ">
                    </div>
                    <div class="right">
                            <p class="No">3D03</p>
                            <p class="smalltitle">お笑いライブハウス楽屋A<br>Tシャツ</p>
                            <p class="read">お笑いの楽しさが伝わるデザインに<br>お笑いライブハウス「楽屋A」にて販売されるTシャツをデザインしました。<br>カエルを取り入れたコミカルさがお笑いの面白さに通ずるところがと思いデザインしました。
                            </p>
                    </div>
                </div>
            </div>
      </section>　
      <section class="section s4" data-index="3">
          <div class="work">
                <div class="wrap">
                    <div class="left">
                        <img src="images/IMG_1087.jpg" alt="パッケージ">
                    </div>
                    <div class="right">
                            <p class="No">3D04</p>
                            <p class="smalltitle">街歩きが楽しくなる<br>靴下のパッケージ</p>
                            <p class="read">使用用途を明確に楽しくイメージできるように<br>街歩きをサポートする靴下のパッケージを意識してデザインしました。<br>自分が楽しく街歩きする姿がイメージできるように意識しました。
                            </p>
                    </div>
                </div>
            </div>
    　</section>
      <section class="section s5" data-index="4">
          <div class="work">
                <div class="wrap">
                    <div class="left">
                        <img src="images/IMG_2955.jpg" alt="パッケージ">
                    </div>
                    <div class="right">
                            <p class="No">3D05</p>
                            <p class="smalltitle">干物を”売るため”の<br>リーフレット</p>
                            <p class="read">一目で注目を集めるリーフレット<br>折りたたみリーフレットの特徴を最大限活かしたデザインを意識しました。<br>一目で興味が湧いて手に取りたくなるインパクトを大事にしました。
                            </p>
                    </div>
                </div>
            </div>
      </section>
    </div>
  </div>

  <!-- ページネーション -->
  <div class="pager" aria-hidden="false"></div>

  <div class="hint">スクロール / スワイプ / ↑ ↓ / ドットで移動</div>

  <script>
    (function($){
      $(function(){
        var $track = $('.track');
        var $sections = $('.section');
        var total = $sections.length;
        var current = 0;
        var animating = false;
        var animDuration = 700; // ms - CSS と合わせる
        var touchStartY = null;
        var touchEndY = null;
        var wheelTimeout;

        // ページネーション（ドット）を作る
        var $pager = $('.pager');
        for (var i=0;i<total;i++){
          var $dot = $('<div class="dot" role="button" tabindex="0" aria-label="セクション '+(i+1)+'"></div>');
          (function(index){
            $dot.on('click keypress', function(e){
              if(e.type === 'keypress' && e.key !== 'Enter') return;
              goTo(index);
            });
          })(i);
          $pager.append($dot);
        }

        function updatePager(){
          $pager.find('.dot').removeClass('active').eq(current).addClass('active');
        }

        updatePager();

        // 移動（ループ）
        function goTo(index){
          if (animating) return;
          animating = true;
          $('body').addClass('animating');

          // normalize index to loop
          var next = ((index % total) + total) % total;
          current = next;

          var y = - current * 100;
          $track.css('transform', 'translateY(' + y + 'vh)');

          updatePager();
          clearTimeout(wheelTimeout);
          wheelTimeout = setTimeout(function(){
            animating = false;
            $('body').removeClass('animating');
          }, animDuration + 50);
        }

        function next(){
          goTo(current + 1);
        }
        function prev(){
          goTo(current - 1);
        }

        // ホイール（マウス）
        $(window).on('wheel', function(e){
          // e.originalEvent.deltaY positive -> down
          e.preventDefault();
          if (animating) return;
          var dy = e.originalEvent.deltaY;
          if (dy > 0) next();
          else if (dy < 0) prev();
        });

        // タッチ（スマホ）：簡易スワイプ判定
        $(window).on('touchstart', function(e){
          var t = e.originalEvent.touches[0];
          touchStartY = t.clientY;
        });
        $(window).on('touchmove', function(e){
          // 防止しないとページ全体がスクロールする
          e.preventDefault();
          var t = e.originalEvent.touches[0];
          touchEndY = t.clientY;
        });
        $(window).on('touchend', function(e){
          if (touchStartY === null || touchEndY === null) { touchStartY = touchEndY = null; return; }
          var diff = touchStartY - touchEndY;
          if (Math.abs(diff) > 30) {
            if (diff > 0) next();
            else prev();
          }
          touchStartY = touchEndY = null;
        });

        // キーボード操作
        $(window).on('keydown', function(e){
          if (animating) return;
          if (e.key === 'ArrowDown' || e.key === 'PageDown') { e.preventDefault(); next(); }
          if (e.key === 'ArrowUp' || e.key === 'PageUp')   { e.preventDefault(); prev(); }
          if (e.key === 'Home') { e.preventDefault(); goTo(0); }
          if (e.key === 'End')  { e.preventDefault(); goTo(total-1); }
        });

        // マウスホイールが敏感すぎる時に速すぎる発火を抑える（ブラウザ依存）
        // ここでは簡素にアニメーション中は受け付けない仕様で調整済み。

        // 初期表示を整える（重要： track の高さをセクションの合計に合わせないといけないが、
        // CSS 側で各セクションが 100vh なので transform だけでOK）
        goTo(0);

        // ウィンドウリサイズで vh の変化に対応（もし必要なら transform を再適用）
        $(window).on('resize', function(){
          // 再描写のため transform を再設定
          $track.css('transform', 'translateY(' + (-current * 100) + 'vh)');
        });
      });
    })(jQuery);
  </script>
</body>
</html>
